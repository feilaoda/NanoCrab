version: "3.9"

services:
  nanocrab:
    build:
      context: ..
      dockerfile: docker/Dockerfile
    ports:
      - "8787:8787"
    environment:
      HTTP_API_HOST: 0.0.0.0
      HTTP_API_PORT: "8787"
    env_file:
      - ../.env
    volumes:
      - nanocrab_data:/app/data
      - nanocrab_store:/app/store
      - nanocrab_logs:/app/logs
    restart: unless-stopped

volumes:
  nanocrab_data: {}
  nanocrab_store: {}
  nanocrab_logs: {}
